<html><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>window.FontAwesomeConfig = { autoReplaceSvg: 'nest'};</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script>tailwind.config = {
  "theme": {
    "extend": {
      "fontFamily": {
        "sans": [
          "Inter",
          "sans-serif"
        ]
      },
      "colors": {
        "primary": "#0f172a",
        "accent": "#3b82f6"
      }
    }
  }
};</script>
    <style>
        ::-webkit-scrollbar { display: none;}
        .glass-effect { backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.9); }
        .gradient-border { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .modern-shadow { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
    </style>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;500;600;700;800;900&amp;display=swap"><style>
      body {
        font-family: 'Inter', sans-serif !important;
      }
      
      /* Preserve Font Awesome icons */
      .fa, .fas, .far, .fal, .fab {
        font-family: "Font Awesome 6 Free", "Font Awesome 6 Brands" !important;
      }
    </style><style>
  .highlighted-section {
    outline: 2px solid #3F20FB;
    background-color: rgba(63, 32, 251, 0.1);
  }

  .edit-button {
    position: absolute;
    z-index: 1000;
  }

  ::-webkit-scrollbar {
    display: none;
  }

  html, body {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  </style></head>
<body class="bg-gradient-to-br from-slate-50 to-gray-100 font-sans">
    <div id="pos-container" class="h-screen flex">
        <!-- Left Panel - Order Entry and Controls -->
        <div id="left-pane" class="w-2/3 flex flex-col">
            <!-- Header Section -->
            <div id="header-section" class="p-6 glass-effect border-b border-white/20">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-6">
                        <button class="px-8 py-3 bg-gradient-to-r from-primary to-slate-700 text-white font-medium rounded-xl hover:shadow-lg transition-all duration-300 flex items-center gap-3 modern-shadow">
                            <i class="fas fa-plus text-lg"></i>
                            New Order <span class="text-xs opacity-80 bg-white/20 px-2 py-1 rounded-lg ml-2">Ctrl+N</span>
                        </button>
                        <div class="flex gap-3">
                            <button class="px-6 py-3 bg-white/80 backdrop-blur border border-white/40 rounded-xl font-medium shadow-lg hover:shadow-xl transition-all duration-300">
                                <span class="text-accent">#001</span>
                            </button>
                            <button class="px-6 py-3 border border-gray-200/60 rounded-xl font-medium text-gray-500 hover:bg-white/60 transition-all duration-300">
                                #002
                            </button>
                        </div>
                    </div>
                    <div class="text-right bg-white/60 backdrop-blur rounded-xl p-4 shadow-lg">
                        <div class="font-bold text-lg">Jan 21, 2025</div>
                        <div class="text-sm text-gray-600">12:08 PM</div>
                    </div>
                </div>
            </div>

            <!-- Action Bar -->
            <div id="action-bar" class="p-6 bg-white/40 backdrop-blur border-b border-white/20">
                <div class="flex justify-between items-center">
                    <div class="flex gap-4">
                        <button class="px-10 py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-medium rounded-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3 modern-shadow">
                            <i class="fas fa-paper-plane text-lg"></i>
                            Submit <span class="text-xs opacity-80 bg-white/20 px-2 py-1 rounded-lg">Ctrl+Enter</span>
                        </button>
                        <button class="px-10 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium rounded-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3 modern-shadow">
                            <i class="fas fa-credit-card text-lg"></i>
                            Pay <span class="text-xs opacity-80 bg-white/20 px-2 py-1 rounded-lg">Ctrl+P</span>
                        </button>
                        <button class="px-10 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white font-medium rounded-xl hover:shadow-2xl transition-all duration-300 flex items-center gap-3 modern-shadow">
                            <i class="fas fa-undo text-lg"></i>
                            Return <span class="text-xs opacity-80 bg-white/20 px-2 py-1 rounded-lg">Ctrl+R</span>
                        </button>
                    </div>
                    
                    <div class="text-sm font-semibold text-gray-700">Order #: POS-2025-001</div>
                </div>
            </div>

            <!-- Order Form -->
            <div id="order-form" class="p-6 bg-white/60 backdrop-blur border-b border-white/20">
                <div class="grid grid-cols-4 gap-6">
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Customer</label>
                        <button onclick="openCustomerSearch()" class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all text-left flex items-center justify-between">
                            <span>Walking Customer</span>
                            <i class="fas fa-chevron-down text-gray-400"></i>
                        </button>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Price List</label>
                        <select class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all">
                            <option selected="">Default Price List</option>
                            <option>Wholesale Price List</option>
                            <option>Retail Price List</option>
                            <option>VIP Price List</option>
                        </select>
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Date</label>
                        <input type="date" value="2025-01-21" class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all">
                    </div>
                    <div class="space-y-2">
                        <label class="block text-sm font-semibold text-gray-700">Delivery</label>
                        <div class="flex gap-2">
                            <button id="instant-btn" onclick="toggleDelivery('instant')" class="px-4 py-3 bg-gradient-to-r from-primary to-slate-700 text-white text-sm rounded-lg shadow-lg transition-all">Instant</button>
                            <button id="scheduled-btn" onclick="toggleDelivery('scheduled')" class="px-4 py-3 bg-white/60 border border-gray-200 text-sm rounded-lg hover:bg-white/80 transition-all">Scheduled</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div id="tab-navigation" class="flex bg-white/80 backdrop-blur border-b border-white/20 shadow-lg">
                <button id="items-tab" class="px-8 py-4 font-semibold text-accent bg-white border-b-4 border-accent rounded-t-xl shadow-md relative">
                    Items
                    <div class="absolute -bottom-1 left-0 right-0 h-1 bg-accent rounded-t-lg"></div>
                </button>
                <button id="other-details-tab" class="px-8 py-4 font-medium text-gray-500 hover:text-black hover:bg-white/60 rounded-t-xl transition-all duration-300">
                    Other Details
                </button>
                <div class="flex-1 bg-gradient-to-r from-white/60 to-gray-50/60 rounded-tr-xl"></div>
            </div>

            <!-- Order Items Table -->
            <div id="order-table" class="flex-1 bg-white/80 backdrop-blur flex flex-col overflow-hidden">
                <!-- Items Tab Content -->
                <div id="items-content" class="flex-1 flex flex-col overflow-hidden">
                    <!-- Scrollable Items List -->
                    <div class="flex-1 overflow-y-auto">
                        <table class="w-full">
                            <thead class="bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200/60 sticky top-0">
                                <tr>
                                    <th class="px-4 py-3 text-left font-semibold text-xs text-gray-700 w-8"></th>
                                    <th class="px-4 py-3 text-left font-semibold text-xs text-gray-700">Product Code</th>
                                    <th class="px-4 py-3 text-left font-semibold text-xs text-gray-700">Label</th>
                                    <th class="px-4 py-3 text-left font-semibold text-xs text-gray-700 w-16">Qty</th>
                                    <th class="px-4 py-3 text-left font-semibold text-xs text-gray-700 w-14">UOM</th>
                                    <th class="px-4 py-3 text-left font-semibold text-xs text-gray-700 w-16">Disc %</th>
                                    <th class="px-4 py-3 text-left font-semibold text-xs text-gray-700 w-20">Unit Price</th>
                                    <th class="px-4 py-3 text-left font-semibold text-xs text-gray-700 w-20">Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="border-b border-gray-100/60 hover:bg-white/60 focus-within:bg-white/80 transition-all duration-200 cursor-pointer" onclick="highlightRow(this, 'IPH15-128')">
                                    <td class="px-4 py-2">
                                        <button class="w-6 h-6 bg-red-100 hover:bg-red-200 rounded-full flex items-center justify-center transition-all">
                                            <i class="fas fa-times text-red-600 text-xs"></i>
                                        </button>
                                    </td>
                                    <td class="px-4 py-2 font-bold text-primary text-sm">IPH15-128</td>
                                    <td class="px-4 py-2 font-medium text-sm">Apple iPhone 15</td>
                                    <td class="px-4 py-2">
                                        <input type="number" value="1" class="w-12 p-1 border border-gray-200 rounded-lg text-center text-sm focus:ring-2 focus:ring-accent transition-all">
                                    </td>
                                    <td class="px-4 py-2 text-xs text-gray-600">Each</td>
                                    <td class="px-4 py-2">
                                        <input type="number" value="0" class="w-12 p-1 border border-gray-200 rounded-lg text-center text-sm focus:ring-2 focus:ring-accent transition-all">
                                    </td>
                                    <td class="px-4 py-2 font-semibold text-sm">$899.00</td>
                                    <td class="px-4 py-2 font-bold text-sm text-primary">$899.00</td>
                                </tr>
                                <tr class="border-b border-gray-100/60 hover:bg-white/60 focus-within:bg-white/80 transition-all duration-200 cursor-pointer" onclick="highlightRow(this, 'SGS24-256')">
                                    <td class="px-4 py-2">
                                        <button class="w-6 h-6 bg-red-100 hover:bg-red-200 rounded-full flex items-center justify-center transition-all">
                                            <i class="fas fa-times text-red-600 text-xs"></i>
                                        </button>
                                    </td>
                                    <td class="px-4 py-2 font-bold text-primary text-sm">SGS24-256</td>
                                    <td class="px-4 py-2 font-medium text-sm">Samsung Galaxy S24</td>
                                    <td class="px-4 py-2">
                                        <input type="number" value="2" class="w-12 p-1 border border-gray-200 rounded-lg text-center text-sm focus:ring-2 focus:ring-accent transition-all">
                                    </td>
                                    <td class="px-4 py-2 text-xs text-gray-600">Each</td>
                                    <td class="px-4 py-2">
                                        <input type="number" value="5" class="w-12 p-1 border border-gray-200 rounded-lg text-center text-sm focus:ring-2 focus:ring-accent transition-all">
                                    </td>
                                    <td class="px-4 py-2 font-semibold text-sm">$799.00</td>
                                    <td class="px-4 py-2 font-bold text-sm text-primary">$1,518.10</td>
                                </tr>
                                <tr class="border-b border-gray-100/60 hover:bg-white/60 focus-within:bg-white/80 transition-all duration-200 cursor-pointer" onclick="highlightRow(this, 'IPD-PRO-12')">
                                    <td class="px-4 py-2">
                                        <button class="w-6 h-6 bg-red-100 hover:bg-red-200 rounded-full flex items-center justify-center transition-all">
                                            <i class="fas fa-times text-red-600 text-xs"></i>
                                        </button>
                                    </td>
                                    <td class="px-4 py-2 font-bold text-primary text-sm">IPD-PRO-12</td>
                                    <td class="px-4 py-2 font-medium text-sm">iPad Pro 12.9"</td>
                                    <td class="px-4 py-2">
                                        <input type="number" value="1" class="w-12 p-1 border border-gray-200 rounded-lg text-center text-sm focus:ring-2 focus:ring-accent transition-all">
                                    </td>
                                    <td class="px-4 py-2 text-xs text-gray-600">Each</td>
                                    <td class="px-4 py-2">
                                        <input type="number" value="0" class="w-12 p-1 border border-gray-200 rounded-lg text-center text-sm focus:ring-2 focus:ring-accent transition-all">
                                    </td>
                                    <td class="px-4 py-2 font-semibold text-sm">$1,299.00</td>
                                    <td class="px-4 py-2 font-bold text-sm text-primary">$1,299.00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Add Product Row - Sticky -->
                    <div class="bg-white border-t border-gray-200/60">
                        <table class="w-full">
                            <tbody>
                                <tr class="border-b-2 border-dashed border-accent/40 hover:bg-accent/5 transition-all duration-200">
                                    <td class="px-4 py-2">
                                        <button onclick="openProductSearch()" class="w-6 h-6 bg-accent/20 hover:bg-accent/40 rounded-full flex items-center justify-center transition-all">
                                            <i class="fas fa-plus text-accent text-xs"></i>
                                        </button>
                                    </td>
                                    <td class="px-4 py-2">
                                        <button onclick="openProductSearch()" class="text-left w-full font-medium text-sm text-gray-400 hover:text-accent transition-all">Click to add item...</button>
                                    </td>
                                    <td class="px-4 py-2"></td>
                                    <td class="px-4 py-2"></td>
                                    <td class="px-4 py-2"></td>
                                    <td class="px-4 py-2"></td>
                                    <td class="px-4 py-2"></td>
                                    <td class="px-4 py-2"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Actions Below Table - Sticky -->
                    <div id="table-actions" class="p-4 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200/60">
                        <div class="flex gap-3">
                            <button class="px-6 py-2 bg-white border border-gray-200 font-medium rounded-xl hover:shadow-lg transition-all duration-300 flex items-center gap-2">
                                <i class="fas fa-percent text-accent"></i>
                                Discount <span class="text-xs opacity-70 bg-gray-100 px-2 py-1 rounded-lg">Ctrl+D</span>
                            </button>
                            <button class="px-6 py-2 bg-white border border-gray-200 font-medium rounded-xl hover:shadow-lg transition-all duration-300 flex items-center gap-2">
                                <i class="fas fa-gift text-emerald-500"></i>
                                Offer <span class="text-xs opacity-70 bg-gray-100 px-2 py-1 rounded-lg">Ctrl+O</span>
                            </button>
                            <button class="px-6 py-2 bg-white border border-gray-200 font-medium rounded-xl hover:shadow-lg transition-all duration-300 flex items-center gap-2">
                                <i class="fas fa-handshake text-orange-500"></i>
                                Commission <span class="text-xs opacity-70 bg-gray-100 px-2 py-1 rounded-lg">Ctrl+C</span>
                            </button>
                        </div>
                    </div>

                    <!-- Warning Bar - Full Width -->
                    <div id="warnings" class="hidden p-4 bg-gradient-to-r from-amber-50 to-yellow-50 border-l-4 border-amber-400 rounded-r-xl shadow-lg mx-0">
                        <div class="flex items-center">
                            <i class="fas fa-exclamation-triangle text-amber-600 mr-3 text-lg"></i>
                            <span class="text-sm font-semibold text-amber-800"></span>
                        </div>
                    </div>
                </div>

                <!-- Other Details Tab Content -->
                <div id="other-details-content" class="flex-1 overflow-y-auto p-6 hidden">
                    <div class="space-y-6">
                        <div class="grid grid-cols-2 gap-6">
                            <div class="space-y-2">
                                <label class="block text-sm font-semibold text-gray-700">PO Reference</label>
                                <input type="text" placeholder="Purchase Order Reference" class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all">
                            </div>
                            <div class="space-y-2">
                                <label class="block text-sm font-semibold text-gray-700">Out Warehouse</label>
                                <select class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all">
                                    <option>Main Warehouse</option>
                                    <option>Secondary Warehouse</option>
                                    <option>Mobile Store</option>
                                </select>
                            </div>
                        </div>

                        <div class="grid grid-cols-2 gap-6">
                            <div class="space-y-2">
                                <label class="block text-sm font-semibold text-gray-700">Payment Terms</label>
                                <select class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all">
                                    <option>Cash on Delivery</option>
                                    <option>Net 30</option>
                                    <option>Net 15</option>
                                    <option>Immediate Payment</option>
                                </select>
                            </div>
                            <div class="space-y-2">
                                <label class="block text-sm font-semibold text-gray-700">Default Sales Account</label>
                                <select class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all">
                                    <option>Sales - Electronics</option>
                                    <option>Sales - Accessories</option>
                                    <option>Sales - General</option>
                                </select>
                            </div>
                        </div>

                        <div class="space-y-2">
                            <label class="block text-sm font-semibold text-gray-700">Terms &amp; Conditions</label>
                            <textarea rows="4" placeholder="Enter terms and conditions..." class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all resize-none"></textarea>
                        </div>

                        <div class="space-y-2">
                            <label class="block text-sm font-semibold text-gray-700">Internal Notes</label>
                            <textarea rows="4" placeholder="Internal notes for staff..." class="w-full p-4 bg-white/80 border border-white/40 rounded-xl shadow-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all resize-none"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Summary -->
            <div id="order-summary" class="p-4 bg-gradient-to-r from-white to-gray-50 border-t border-gray-200/60">
                <div class="grid grid-cols-5 gap-3 text-sm mb-3">
                    <div class="text-center p-3 bg-white/80 rounded-xl shadow-lg">
                        <div class="text-gray-500 font-medium text-xs">Untaxed</div>
                        <div class="font-bold text-lg">$2,417.10</div>
                    </div>
                    <div class="text-center p-3 bg-white/80 rounded-xl shadow-lg">
                        <div class="text-gray-500 font-medium text-xs">Discount</div>
                        <div class="font-bold text-lg text-red-600">-$80.90</div>
                    </div>
                    <div class="text-center p-3 bg-white/80 rounded-xl shadow-lg">
                        <div class="text-gray-500 font-medium text-xs">VAT (10%)</div>
                        <div class="font-bold text-lg">$233.62</div>
                    </div>
                    <div class="text-center p-3 bg-white/80 rounded-xl shadow-lg">
                        <div class="text-gray-500 font-medium text-xs">Rounding</div>
                        <div class="font-bold text-lg">$0.18</div>
                    </div>
                    <div class="text-center p-3 bg-gradient-to-r from-primary to-slate-700 text-white rounded-xl shadow-xl">
                        <div class="text-white/80 font-medium text-xs">Total</div>
                        <div class="font-bold text-2xl">$2,570.00</div>
                    </div>
                </div>
                
                <!-- Alert Messages -->
                <div id="alert-messages">
                    <div class="bg-gradient-to-r from-red-50 to-pink-50 border-l-4 border-red-400 p-3 rounded-r-xl shadow-lg relative">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <i class="fas fa-exclamation-circle text-red-500 mr-3"></i>
                                <span class="text-sm font-semibold text-red-800">Payment pending for order #POS-2025-001</span>
                            </div>
                            <div class="flex flex-col gap-1">
                                <button class="text-red-400 hover:text-red-600 text-xs">
                                    <i class="fas fa-chevron-up"></i>
                                </button>
                                <button class="text-red-400 hover:text-red-600 text-xs">
                                    <i class="fas fa-chevron-down"></i>
                                </button>
                            </div>
                        </div>
                        <div class="text-xs text-red-600 mt-1 ml-6">2 more alerts</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel - Contextual Information & History -->
        <div id="right-pane" class="w-1/3 bg-white/60 backdrop-blur border-l border-white/20 flex flex-col">
            <!-- Tab Navigation -->
            <div id="right-tabs" class="flex border-b border-gray-200/60 bg-white/80">
                <button id="product-tab" class="px-4 py-3 font-semibold border-b-3 border-accent bg-white/90 text-accent text-sm" onclick="switchRightTab('product')">Product</button>
                <button id="customer-tab" class="px-4 py-3 font-medium text-gray-500 hover:text-black hover:bg-white/40 transition-all text-sm" onclick="switchRightTab('customer')">Customer</button>
                <button class="px-4 py-3 font-medium text-gray-500 hover:text-black hover:bg-white/40 transition-all text-sm">Prints</button>
                <button class="px-4 py-3 font-medium text-gray-500 hover:text-black hover:bg-white/40 transition-all text-sm">Payments</button>
                <button class="px-4 py-3 font-medium text-gray-500 hover:text-black hover:bg-white/40 transition-all text-sm">Orders</button>
            </div>

            <!-- Quick Action Controls -->
            <!-- <div id="quick-actions" class="p-4 bg-white/90 border-b border-gray-200/60">
                <div class="grid grid-cols-3 gap-3">
                    <button class="px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-medium rounded-xl hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2">
                        <i class="fas fa-history"></i>
                        History
                    </button>
                    <button class="px-4 py-3 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white text-sm font-medium rounded-xl hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2">
                        <i class="fas fa-boxes"></i>
                        Stock
                    </button>
                    <button class="px-4 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm font-medium rounded-xl hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2">
                        <i class="fas fa-user-circle"></i>
                        Account
                    </button>
                </div>
            </div> -->

            <!-- Product Details Content -->
            <div id="product-details-content" class="flex-1 overflow-y-auto">
                <!-- Product Overview -->
                <div id="product-overview" class="p-4 border-b border-gray-200/60 bg-white/90">
                    <!-- <div class="w-full h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl mb-4 flex items-center justify-center">
                        <img class="w-24 h-24 object-cover rounded-lg" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/2b95604e50-b578f0ce76115d18ce2b.png" alt="Samsung Galaxy S24 smartphone elegant product photo">
                    </div> -->
                    <div class="flex space-y-2">
                        <div class="w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl mb-4 flex items-center justify-center">
                            <img class="w-24 h-24 object-cover rounded-lg" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/2b95604e50-b578f0ce76115d18ce2b.png" alt="Samsung Galaxy S24 smartphone elegant product photo">
                        </div>
                        <div class="space-y-2 ml-4">
                            <div class="font-bold text-lg text-primary">SGS24-256</div>
                            <div class="font-semibold text-gray-800">Samsung Galaxy S24</div>
                            <div class="text-sm text-gray-600">Category: Smartphones</div>
                            <div class="text-sm text-gray-600">Location: Rack A-15, Shelf 3</div>
                        </div>
                    </div>
                    
                    
                </div>

                <!-- Pricing & Stock -->
                <div id="pricing-stock" class="p-4 border-b border-gray-200/60 bg-white/90">
                    <h4 class="font-bold text-gray-800 mb-3">Pricing &amp; Stock</h4>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <div class="text-xs text-gray-600">Unit Price</div>
                            <div class="font-bold text-blue-600">$799.00</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl">
                            <div class="text-xs text-gray-600">On Hand</div>
                            <div class="font-bold text-red-600">3 units</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl">
                            <div class="text-xs text-gray-600">Cost</div>
                            <div class="font-bold text-orange-600">$650.00</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl">
                            <div class="text-xs text-gray-600">Margin</div>
                            <div class="font-bold text-purple-600">18.6%</div>
                        </div>
                    </div>
                </div>

                <!-- Customer Purchase History -->
                <div id="customer-history" class="p-4 border-b border-gray-200/60 bg-white/90">
                    <h4 class="font-bold text-gray-800 mb-3">Stock Details</h4>
                    <div class="space-y-2">
                        <div class="p-2 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg text-xs">
                            <div class="flex justify-between items-center">
                                <div class="font-semibold text-primary">Warehouse - 2</div>
                                <span class="font-semibold text-green-600">Qty: 10</span>
                            </div>
                        </div>
                        <div class="p-2 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg text-xs">
                            <div class="flex justify-between items-center">
                                <div class="font-semibold text-primary">Warehouse - 3</div>
                                <span class="font-semibold text-green-600">Qty: 12</span>
                            </div>
                        </div>
                        <div class="p-2 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg text-xs">
                            <div class="flex justify-between items-center">
                                <div class="font-semibold text-primary">Warehouse - 4</div>
                                <span class="font-semibold text-green-600">Qty: 30</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Upsell & Alternative Tabs -->
                <div id="upsell-alternative-section" class="bg-white/90">
                    <div class="flex border-b border-gray-200/60">
                        <button id="upsell-tab" class="flex-1 px-4 py-3 font-semibold border-b-2 border-emerald-500 bg-emerald-50 text-emerald-700 text-sm transition-all" onclick="switchUpsellTab('upsell')">
                            <h4 class="font-bold text-gray-800 mb-3">Customer's History</h4>
                        </button>
                        <button id="alternative-tab" class="flex-1 px-4 py-3 font-medium text-gray-500 hover:text-black hover:bg-white/40 transition-all text-sm" onclick="switchUpsellTab('alternative')">
                            <h4 class="font-bold text-gray-800 mb-3">Alternatives</h4>
                        </button>
                    </div>

                    <!-- Upsell Products Tab Content -->
                    <div id="upsell-content" class="p-4">
                        <!-- <div class="space-y-3">
                            <div class="p-3 bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl border border-emerald-200">
                                <div class="flex justify-between items-start">
                                    <div class="flex-1">
                                        <div class="font-bold text-sm text-primary">SGS24-CASE</div>
                                        <div class="text-xs text-gray-600">Galaxy S24 Premium Case</div>
                                        <div class="text-xs text-green-600 font-semibold mt-1">Available: 15</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="font-bold text-emerald-600">$49.99</div>
                                        <button class="mt-1 px-3 py-1 bg-emerald-500 text-white text-xs rounded-lg hover:bg-emerald-600 transition-all">
                                            <i class="fas fa-plus mr-1"></i>Add
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200">
                                <div class="flex justify-between items-start">
                                    <div class="flex-1">
                                        <div class="font-bold text-sm text-primary">SGS24-CHRG</div>
                                        <div class="text-xs text-gray-600">Wireless Charger 25W</div>
                                        <div class="text-xs text-green-600 font-semibold mt-1">Available: 8</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="font-bold text-blue-600">$89.99</div>
                                        <button class="mt-1 px-3 py-1 bg-blue-500 text-white text-xs rounded-lg hover:bg-blue-600 transition-all">
                                            <i class="fas fa-plus mr-1"></i>Add
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div> -->
                        
                        <div class="text-xs text-gray-500 mb-2">Previous purchases of Samsung Galaxy S24</div>
                        <div class="space-y-2">
                            <div class="p-2 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg text-xs">
                                <div class="flex justify-between items-center">
                                    <div class="font-semibold text-primary">POS-2024-892</div>
                                    <div class="text-gray-600">Dec 15, 2024</div>
                                </div>
                                <div class="flex justify-between mt-1">
                                    <span class="text-gray-600">Qty: 1</span>
                                    <span class="font-semibold text-green-600">$799.00</span>
                                </div>
                            </div>
                            <div class="p-2 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg text-xs">
                                <div class="flex justify-between items-center">
                                    <div class="font-semibold text-primary">POS-2024-654</div>
                                    <div class="text-gray-600">Oct 22, 2024</div>
                                </div>
                                <div class="flex justify-between mt-1">
                                    <span class="text-gray-600">Qty: 2</span>
                                    <span class="font-semibold text-green-600">$1,598.00</span>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Alternative Products Tab Content -->
                    <div id="alternative-content" class="p-4 hidden">
                        <div class="space-y-3">
                            <div class="p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200">
                                <div class="flex justify-between items-start">
                                    <div class="flex-1">
                                        <div class="font-bold text-sm text-primary">SGS24-512</div>
                                        <div class="text-xs text-gray-600">Galaxy S24 (512GB)</div>
                                        <div class="text-xs text-green-600 font-semibold mt-1">Available: 5</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="font-bold text-purple-600">$949.00</div>
                                        <button class="mt-1 px-3 py-1 bg-purple-500 text-white text-xs rounded-lg hover:bg-purple-600 transition-all">
                                            <i class="fas fa-exchange-alt mr-1"></i>Replace
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div class="p-3 bg-gradient-to-r from-orange-50 to-red-50 rounded-xl border border-orange-200">
                                <div class="flex justify-between items-start">
                                    <div class="flex-1">
                                        <div class="font-bold text-sm text-primary">IPH15-128</div>
                                        <div class="text-xs text-gray-600">iPhone 15 (128GB)</div>
                                        <div class="text-xs text-green-600 font-semibold mt-1">Available: 7</div>
                                    </div>
                                    <div class="text-right">
                                        <div class="font-bold text-orange-600">$899.00</div>
                                        <button class="mt-1 px-3 py-1 bg-orange-500 text-white text-xs rounded-lg hover:bg-orange-600 transition-all">
                                            <i class="fas fa-exchange-alt mr-1"></i>Replace
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Customer Details Content -->
            <div id="customer-details-content" class="flex-1 overflow-y-auto hidden">
                <div class="p-4 border-b border-gray-200/60 bg-white/90">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="w-12 h-12 bg-gradient-to-r from-primary to-slate-700 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-white text-lg"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg">Walking Customer</h3>
                            <p style="font-size: 12px;" class="text-sm text-gray-600">VAT: Not Applicable</p>
                            <p style="font-size: 12px;" class="text-sm text-gray-600">ADDRESS: ABC BUILING, 2nds Street</p>
                        </div>
                    </div>
                    
                    <!-- Stats Bar -->
                    <div class="grid grid-cols-2 gap-3">
                        <div class="p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <div class="text-xs text-gray-600">Total Invoiced</div>
                            <div class="font-bold text-blue-600">$12,450.00</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-red-50 to-pink-50 rounded-xl">
                            <div class="text-xs text-gray-600">Amount Due</div>
                            <div class="font-bold text-red-600">$2,570.00</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl">
                            <div class="text-xs text-gray-600">Last Payment &nbsp; | &nbsp; <small> <i> 20 Oct 2025 </i> </small> </div>
                            <div class="font-bold text-green-600">$1,200.00</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-blue-50 to-yellow-50 rounded-xl">
                            <div class="text-xs text-gray-600">Credit Limit</div>
                            <div class="font-bold text-orange-600">$10000.40</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl">
                            <div class="text-xs text-gray-600">Available Credit Limit</div>
                            <div class="font-bold text-orange-600">$7500.40</div>
                        </div>
                    </div>
                </div>

                <!-- Upsell & Alternative Tabs -->
                <div id="upsell-alternative-section-2" class="bg-white/90 mt-2">
                    <div class="flex border-b border-gray-200/60">
                        <button id="upsell-tab-2" class="flex-1 px-4 py-3 font-semibold border-b-2 border-emerald-500 bg-emerald-50 text-emerald-700 text-sm transition-all" onclick="switchUpsellTab('upsell')">
                            Recent Orders
                        </button>
                        <button id="alternative-tab-2" class="flex-1 px-4 py-3 font-medium text-gray-500 hover:text-black hover:bg-white/40 transition-all text-sm" onclick="switchUpsellTab('alternative')">
                            Most Ordered
                        </button>
                    </div>

                    <!-- Recent Orders Tab Content -->
                    <div id="upsell-content-2" class="p-4">
                        <div class="space-y-2">
                            <div class="p-3 bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl">
                                <div class="flex justify-between items-start mb-1">
                                    <span class="font-bold text-primary text-sm">#POS-2025-002</span>
                                    <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium">Paid</span>
                                </div>
                                <div class="text-xs text-gray-600 mb-1">Jan 20, 2025 • 3:45 PM</div>
                                <div class="flex justify-between text-xs">
                                    <span>Qty: 3</span>
                                    <span class="font-semibold">$1,847.50</span>
                                </div>
                            </div>
                            <div class="p-3 bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl">
                                <div class="flex justify-between items-start mb-1">
                                    <span class="font-bold text-primary text-sm">#POS-2025-001</span>
                                    <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium">Unpaid</span>
                                </div>
                                <div class="text-xs text-gray-600 mb-1">Jan 19, 2025 • 11:20 AM</div>
                                <div class="flex justify-between text-xs">
                                    <span>Qty: 2</span>
                                    <span class="font-semibold">$999.99</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Most Ordered Tab Content -->
                    <div id="alternative-content-2" class="p-4 hidden">
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl">
                                <div>
                                    <div class="font-semibold text-sm">iPhone 15 Pro</div>
                                    <div class="text-xs text-gray-600">IPH15-PRO</div>
                                </div>
                                <div class="text-right">
                                    <div class="font-bold text-sm">15 units</div>
                                    <div class="text-xs text-gray-600">$13,485</div>
                                </div>
                            </div>
                            
                            <div class="flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl">
                                <div>
                                    <div class="font-semibold text-sm">Galaxy S24</div>
                                    <div class="text-xs text-gray-600">SGS24-256</div>
                                </div>
                                <div class="text-right">
                                    <div class="font-bold text-sm">12 units</div>
                                    <div class="text-xs text-gray-600">$9,588</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Order History -->
                <!-- <div class="p-4 bg-white/90">
                    <h4 class="font-bold text-gray-800 mb-3">Recent Orders</h4>
                    <div class="space-y-2">
                        <div class="p-3 bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl">
                            <div class="flex justify-between items-start mb-1">
                                <span class="font-bold text-primary text-sm">#POS-2025-002</span>
                                <span class="px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium">Paid</span>
                            </div>
                            <div class="text-xs text-gray-600 mb-1">Jan 20, 2025 • 3:45 PM</div>
                            <div class="flex justify-between text-xs">
                                <span>Qty: 3</span>
                                <span class="font-semibold">$1,847.50</span>
                            </div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl">
                            <div class="flex justify-between items-start mb-1">
                                <span class="font-bold text-primary text-sm">#POS-2025-001</span>
                                <span class="px-2 py-1 bg-red-100 text-red-800 text-xs rounded-full font-medium">Unpaid</span>
                            </div>
                            <div class="text-xs text-gray-600 mb-1">Jan 19, 2025 • 11:20 AM</div>
                            <div class="flex justify-between text-xs">
                                <span>Qty: 2</span>
                                <span class="font-semibold">$999.99</span>
                            </div>
                        </div>
                    </div>
                </div> -->

                <!-- Most Ordered Products -->
                <!-- <div id="popular-products" class="p-6 border-t border-gray-200/60 bg-white/90">
                    <h4 class="font-bold text-gray-800 mb-4">Most Ordered</h4> -->
                    <!-- <div class="space-y-3">
                        <div class="flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl">
                            <div>
                                <div class="font-semibold text-sm">iPhone 15 Pro</div>
                                <div class="text-xs text-gray-600">IPH15-PRO</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-sm">15 units</div>
                                <div class="text-xs text-gray-600">$13,485</div>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl">
                            <div>
                                <div class="font-semibold text-sm">Galaxy S24</div>
                                <div class="text-xs text-gray-600">SGS24-256</div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-sm">12 units</div>
                                <div class="text-xs text-gray-600">$9,588</div>
                            </div>
                        </div>
                    </div> -->
                    
                    <!-- Floating Action Button -->
                    <!-- <button class="absolute bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-accent to-blue-600 text-white rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 flex items-center justify-center">
                        <i class="fas fa-search text-lg"></i>
                    </button> -->
                <!-- </div> -->

            </div>

            
        </div>
    </div>

    <!-- Product Search Modal -->
    <div id="product-search-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-2xl shadow-2xl w-96 max-h-96 flex flex-col">
            <div class="p-4 border-b border-gray-200">
                <div class="relative">
                    <input id="product-search-input" type="text" placeholder="Search products..." class="w-full p-3 pl-10 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent focus:border-transparent" oninput="filterProducts()" onkeydown="handleProductNavigation(event)">
                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                </div>
            </div>
            <div id="product-list" class="flex-1 overflow-y-auto p-2">
                <div class="product-item p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-all" data-code="IPH15-128" data-name="Apple iPhone 15" data-price="899.00">
                    <div class="font-semibold text-sm">Apple iPhone 15</div>
                    <div class="text-xs text-gray-600">IPH15-128 • $899.00</div>
                </div>
                <div class="product-item p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-all" data-code="SGS24-256" data-name="Samsung Galaxy S24" data-price="799.00">
                    <div class="font-semibold text-sm">Samsung Galaxy S24</div>
                    <div class="text-xs text-gray-600">SGS24-256 • $799.00</div>
                </div>
                <div class="product-item p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-all" data-code="IPD-PRO-12" data-name="iPad Pro 12.9" data-price="1299.00">
                    <div class="font-semibold text-sm">iPad Pro 12.9"</div>
                    <div class="text-xs text-gray-600">IPD-PRO-12 • $1,299.00</div>
                </div>
                <div class="product-item p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-all" data-code="MAC-AIR-M2" data-name="MacBook Air M2" data-price="1199.00">
                    <div class="font-semibold text-sm">MacBook Air M2</div>
                    <div class="text-xs text-gray-600">MAC-AIR-M2 • $1,199.00</div>
                </div>
                <div class="product-item p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-all" data-code="APW-SER9" data-name="Apple Watch Series 9" data-price="399.00">
                    <div class="font-semibold text-sm">Apple Watch Series 9</div>
                    <div class="text-xs text-gray-600">APW-SER9 • $399.00</div>
                </div>
            </div>
            <div class="p-4 border-t border-gray-200 flex justify-end gap-3">
                <button onclick="closeProductSearch()" class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all">Cancel</button>
                <button onclick="selectProduct()" class="px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-all">Select</button>
            </div>
        </div>
    </div>

    <!-- Customer Search Modal -->
    <div id="customer-search-modal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center">
        <div class="bg-white rounded-2xl shadow-2xl w-96 max-h-96 flex flex-col">
            <div class="p-4 border-b border-gray-200">
                <div class="relative">
                    <input id="customer-search-input" type="text" placeholder="Search customers..." class="w-full p-3 pl-10 border border-gray-200 rounded-xl focus:ring-2 focus:ring-accent focus:border-transparent" oninput="filterCustomers()" onkeydown="handleCustomerNavigation(event)">
                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                </div>
            </div>
            <div id="customer-list" class="flex-1 overflow-y-auto p-2">
                <div class="customer-item p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-all" data-name="Walking Customer" data-gst="Not Applicable">
                    <div class="font-semibold text-sm">Walking Customer</div>
                    <div class="text-xs text-gray-600">GST: Not Applicable</div>
                </div>
                <div class="customer-item p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-all" data-name="John Smith" data-gst="22AAAAA0000A1Z5">
                    <div class="font-semibold text-sm">John Smith</div>
                    <div class="text-xs text-gray-600">GST: 22AAAAA0000A1Z5</div>
                </div>
                <div class="customer-item p-3 hover:bg-gray-50 rounded-lg cursor-pointer transition-all" data-name="Sarah Johnson" data-gst="29BBBBB1111B2Y6">
                    <div class="font-semibold text-sm">Sarah Johnson</div>
                    <div class="text-xs text-gray-600">GST: 29BBBBB1111B2Y6</div>
                </div>
            </div>
            <div class="p-4 border-t border-gray-200 flex justify-end gap-3">
                <button onclick="closeCustomerSearch()" class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all">Cancel</button>
                <button onclick="selectCustomer()" class="px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/90 transition-all">Select</button>
            </div>
        </div>
    </div>

    <script>
        let selectedProductIndex = -1;
        let filteredProducts = [];
        let selectedCustomerIndex = -1;
        let filteredCustomers = [];
        let currentSelectedRow = null;
        let currentRightTab = 'product';

        // Product data for dynamic content
        const productData = {
            'IPH15-128': {
                name: 'Apple iPhone 15',
                category: 'Smartphones',
                location: 'Rack B-12, Shelf 2',
                price: 899.00,
                cost: 720.00,
                stock: 12,
                margin: '19.9%',
                image: 'https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-2.jpg'
            },
            'SGS24-256': {
                name: 'Samsung Galaxy S24',
                category: 'Smartphones', 
                location: 'Rack A-15, Shelf 3',
                price: 799.00,
                cost: 650.00,
                stock: 3,
                margin: '18.6%',
                image: 'https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-3.jpg'
            },
            'IPD-PRO-12': {
                name: 'iPad Pro 12.9"',
                category: 'Tablets',
                location: 'Rack C-08, Shelf 1',
                price: 1299.00,
                cost: 1050.00,
                stock: 8,
                margin: '19.2%',
                image: 'https://storage.googleapis.com/uxpilot-auth.appspot.com/avatars/avatar-4.jpg'
            }
        };

        function openProductSearch() {
            document.getElementById('product-search-modal').classList.remove('hidden');
            document.getElementById('product-search-input').focus();
            selectedProductIndex = -1;
            updateProductSelection();
        }

        function closeProductSearch() {
            document.getElementById('product-search-modal').classList.add('hidden');
            document.getElementById('product-search-input').value = '';
            selectedProductIndex = -1;
        }

        function filterProducts() {
            const searchTerm = document.getElementById('product-search-input').value.toLowerCase();
            const productItems = document.querySelectorAll('.product-item');
            filteredProducts = [];
            
            productItems.forEach((item, index) => {
                const name = item.dataset.name.toLowerCase();
                const code = item.dataset.code.toLowerCase();
                
                if (name.includes(searchTerm) || code.includes(searchTerm)) {
                    item.style.display = 'block';
                    filteredProducts.push(item);
                } else {
                    item.style.display = 'none';
                }
            });
            
            selectedProductIndex = -1;
            updateProductSelection();
        }

        function handleProductNavigation(event) {
            if (event.key === 'ArrowDown') {
                event.preventDefault();
                selectedProductIndex = Math.min(selectedProductIndex + 1, filteredProducts.length - 1);
                updateProductSelection();
            } else if (event.key === 'ArrowUp') {
                event.preventDefault();
                selectedProductIndex = Math.max(selectedProductIndex - 1, -1);
                updateProductSelection();
            } else if (event.key === 'Enter') {
                event.preventDefault();
                selectProduct();
            } else if (event.key === 'Escape') {
                closeProductSearch();
            }
        }

        function updateProductSelection() {
            const allItems = document.querySelectorAll('.product-item');
            allItems.forEach((item, index) => {
                item.classList.remove('bg-accent', 'text-white');
            });
            
            if (selectedProductIndex >= 0 && filteredProducts[selectedProductIndex]) {
                filteredProducts[selectedProductIndex].classList.add('bg-accent', 'text-white');
                filteredProducts[selectedProductIndex].scrollIntoView({ block: 'nearest' });
            }
        }

        function selectProduct() {
            if (selectedProductIndex >= 0 && filteredProducts[selectedProductIndex]) {
                const selectedItem = filteredProducts[selectedProductIndex];
                addProductToTable(
                    selectedItem.dataset.code,
                    selectedItem.dataset.name,
                    selectedItem.dataset.price
                );
                closeProductSearch();
            }
        }

        function addProductToTable(code, name, price) {
            // Add logic to insert new row into the table
            console.log('Adding product:', code, name, price);
        }

        // Add click handlers for product items
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.product-item').forEach(item => {
                item.addEventListener('click', function() {
                    addProductToTable(this.dataset.code, this.dataset.name, this.dataset.price);
                    closeProductSearch();
                });
            });
        });

        function openCustomerSearch() {
            document.getElementById('customer-search-modal').classList.remove('hidden');
            document.getElementById('customer-search-input').focus();
            selectedCustomerIndex = -1;
            updateCustomerSelection();
        }

        function closeCustomerSearch() {
            document.getElementById('customer-search-modal').classList.add('hidden');
            document.getElementById('customer-search-input').value = '';
            selectedCustomerIndex = -1;
        }

        function filterCustomers() {
            const searchTerm = document.getElementById('customer-search-input').value.toLowerCase();
            const customerItems = document.querySelectorAll('.customer-item');
            filteredCustomers = [];
            
            customerItems.forEach((item, index) => {
                const name = item.dataset.name.toLowerCase();
                
                if (name.includes(searchTerm)) {
                    item.style.display = 'block';
                    filteredCustomers.push(item);
                } else {
                    item.style.display = 'none';
                }
            });
            
            selectedCustomerIndex = -1;
            updateCustomerSelection();
        }

        function handleCustomerNavigation(event) {
            if (event.key === 'ArrowDown') {
                event.preventDefault();
                selectedCustomerIndex = Math.min(selectedCustomerIndex + 1, filteredCustomers.length - 1);
                updateCustomerSelection();
            } else if (event.key === 'ArrowUp') {
                event.preventDefault();
                selectedCustomerIndex = Math.max(selectedCustomerIndex - 1, -1);
                updateCustomerSelection();
            } else if (event.key === 'Enter') {
                event.preventDefault();
                selectCustomer();
            } else if (event.key === 'Escape') {
                closeCustomerSearch();
            }
        }

        function updateCustomerSelection() {
            const allItems = document.querySelectorAll('.customer-item');
            allItems.forEach((item, index) => {
                item.classList.remove('bg-accent', 'text-white');
            });
            
            if (selectedCustomerIndex >= 0 && filteredCustomers[selectedCustomerIndex]) {
                filteredCustomers[selectedCustomerIndex].classList.add('bg-accent', 'text-white');
                filteredCustomers[selectedCustomerIndex].scrollIntoView({ block: 'nearest' });
            }
        }

        function selectCustomer() {
            if (selectedCustomerIndex >= 0 && filteredCustomers[selectedCustomerIndex]) {
                const selectedItem = filteredCustomers[selectedCustomerIndex];
                document.querySelector('#order-form button span').textContent = selectedItem.dataset.name;
                closeCustomerSearch();
            }
        }

        function toggleDelivery(type) {
            const instantBtn = document.getElementById('instant-btn');
            const scheduledBtn = document.getElementById('scheduled-btn');
            
            if (type === 'instant') {
                instantBtn.className = 'px-4 py-3 bg-gradient-to-r from-primary to-slate-700 text-white text-sm rounded-lg shadow-lg transition-all';
                scheduledBtn.className = 'px-4 py-3 bg-white/60 border border-gray-200 text-sm rounded-lg hover:bg-white/80 transition-all';
            } else {
                scheduledBtn.className = 'px-4 py-3 bg-gradient-to-r from-primary to-slate-700 text-white text-sm rounded-lg shadow-lg transition-all';
                instantBtn.className = 'px-4 py-3 bg-white/60 border border-gray-200 text-sm rounded-lg hover:bg-white/80 transition-all';
            }
        }

        function highlightRow(row, productCode) {
            // Remove highlight from all rows
            document.querySelectorAll('tbody tr').forEach(tr => {
                tr.classList.remove('row-highlight', 'bg-white/80');
            });
            
            // Add highlight to clicked row
            row.classList.add('row-highlight', 'bg-white/80');
            currentSelectedRow = row;
            
            // Switch to product tab and update details
            switchRightTab('product');
            updateProductDetails(productCode);
        }

        function updateProductDetails(productCode) {
            const product = productData[productCode];
            if (!product) return;

            // Update the product details content
            const productContent = document.getElementById('product-details-content');
            productContent.innerHTML = `
                <div id="product-overview" class="p-4 border-b border-gray-200/60 bg-white/90">
                    <div class="w-full h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl mb-4 flex items-center justify-center">
                        <img class="w-24 h-24 object-cover rounded-lg" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/d7dce5ca03-590a5d5f54437a4df553.png" alt="${product.image}" />
                    </div>
                    <div class="space-y-2">
                        <div class="font-bold text-lg text-primary">${productCode}</div>
                        <div class="font-semibold text-gray-800">${product.name}</div>
                        <div class="text-sm text-gray-600">Category: ${product.category}</div>
                        <div class="text-sm text-gray-600">Location: ${product.location}</div>
                    </div>
                </div>

                <div id="pricing-stock" class="p-4 border-b border-gray-200/60 bg-white/90">
                    <h4 class="font-bold text-gray-800 mb-3">Pricing & Stock</h4>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <div class="text-xs text-gray-600">Unit Price</div>
                            <div class="font-bold text-blue-600">$${product.price.toFixed(2)}</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-${product.stock <= 5 ? 'red' : 'green'}-50 to-${product.stock <= 5 ? 'pink' : 'emerald'}-50 rounded-xl">
                            <div class="text-xs text-gray-600">On Hand</div>
                            <div class="font-bold text-${product.stock <= 5 ? 'red' : 'green'}-600">${product.stock} units</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl">
                            <div class="text-xs text-gray-600">Cost</div>
                            <div class="font-bold text-orange-600">$${product.cost.toFixed(2)}</div>
                        </div>
                        <div class="p-3 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl">
                            <div class="text-xs text-gray-600">Margin</div>
                            <div class="font-bold text-purple-600">${product.margin}</div>
                        </div>
                    </div>
                </div>

                <div class="p-4 bg-white/90">
                    <h4 class="font-bold text-gray-800 mb-3">Quick Actions</h4>
                    <div class="space-y-2">
                        <button class="w-full p-3 bg-gradient-to-r from-accent to-blue-600 text-white rounded-xl hover:shadow-lg transition-all">
                            <i class="fas fa-plus mr-2"></i>Add to Cart
                        </button>
                        <button class="w-full p-3 bg-gradient-to-r from-emerald-500 to-green-600 text-white rounded-xl hover:shadow-lg transition-all">
                            <i class="fas fa-eye mr-2"></i>View Details
                        </button>
                    </div>
                </div>
            `;
        }

        function switchRightTab(tabName) {
            currentRightTab = tabName;
            
            // Hide all content
            document.getElementById('product-details-content').classList.add('hidden');
            document.getElementById('customer-details-content').classList.add('hidden');
            
            // Reset all tab buttons
            document.getElementById('product-tab').className = 'px-4 py-3 font-medium text-gray-500 hover:text-black hover:bg-white/40 transition-all text-sm';
            document.getElementById('customer-tab').className = 'px-4 py-3 font-medium text-gray-500 hover:text-black hover:bg-white/40 transition-all text-sm';
            
            // Show selected content and style active tab
            if (tabName === 'product') {
                document.getElementById('product-details-content').classList.remove('hidden');
                document.getElementById('product-tab').className = 'px-4 py-3 font-semibold border-b-3 border-accent bg-white/90 text-accent text-sm';
            } else if (tabName === 'customer') {
                document.getElementById('customer-details-content').classList.remove('hidden');
                document.getElementById('customer-tab').className = 'px-4 py-3 font-semibold border-b-3 border-accent bg-white/90 text-accent text-sm';
            }
        }

        function switchUpsellTab(tabName) {
            // Hide all content
            document.getElementById('upsell-content').classList.add('hidden');
            document.getElementById('alternative-content').classList.add('hidden');
            document.getElementById('upsell-content-2').classList.remove('hidden');
            document.getElementById('alternative-content-2').classList.remove('hidden');
            
            // Reset all tab buttons
            document.getElementById('upsell-tab').classList.remove('border-emerald-500', 'bg-emerald-50', 'text-emerald-700', 'font-semibold');
            document.getElementById('upsell-tab').classList.add('text-gray-500', 'font-medium');

            document.getElementById('upsell-tab-2').classList.remove('border-emerald-500', 'bg-emerald-50', 'text-emerald-700', 'font-semibold');
            document.getElementById('upsell-tab-2').classList.add('text-gray-500', 'font-medium');

            document.getElementById('alternative-tab').classList.remove('border-purple-500', 'bg-purple-50', 'text-purple-700', 'font-semibold');
            document.getElementById('alternative-tab').classList.add('text-gray-500', 'font-medium');

            document.getElementById('alternative-tab-2').classList.remove('border-purple-500', 'bg-purple-50', 'text-purple-700', 'font-semibold');
            document.getElementById('alternative-tab-2').classList.add('text-gray-500', 'font-medium');
            
            // Show selected content and style active tab
            if (tabName === 'upsell') {
                document.getElementById('upsell-content-2').classList.remove('hidden');
                document.getElementById('upsell-content').classList.remove('hidden');

                document.getElementById('alternative-content-2').classList.add('hidden');

                document.getElementById('upsell-tab').classList.add('border-emerald-500', 'bg-emerald-50', 'text-emerald-700', 'font-semibold');
                document.getElementById('upsell-tab').classList.remove('text-gray-500', 'font-medium');

                document.getElementById('upsell-tab-2').classList.add('border-emerald-500', 'bg-emerald-50', 'text-emerald-700', 'font-semibold');
                document.getElementById('upsell-tab-2').classList.remove('text-gray-500', 'font-medium');

            } else {
                document.getElementById('alternative-content').classList.remove('hidden');
                document.getElementById('alternative-content-2').classList.remove('hidden');

                document.getElementById('upsell-content-2').classList.add('hidden');

                document.getElementById('alternative-tab').classList.add('border-purple-500', 'bg-purple-50', 'text-purple-700', 'font-semibold');
                document.getElementById('alternative-tab').classList.remove('text-gray-500', 'font-medium');

                document.getElementById('alternative-tab-2').classList.add('border-purple-500', 'bg-purple-50', 'text-purple-700', 'font-semibold');
                document.getElementById('alternative-tab-2').classList.remove('text-gray-500', 'font-medium');
            }
        }

        // Enhanced tab functionality
        document.getElementById('items-tab').addEventListener('click', function() {
            document.getElementById('items-content').classList.remove('hidden');
            document.getElementById('other-details-content').classList.add('hidden');
            
            this.className = 'px-8 py-4 font-semibold text-accent bg-white border-b-4 border-accent rounded-t-xl shadow-md relative';
            this.innerHTML = 'Items<div class="absolute -bottom-1 left-0 right-0 h-1 bg-accent rounded-t-lg"></div>';
            
            document.getElementById('other-details-tab').className = 'px-8 py-4 font-medium text-gray-500 hover:text-black hover:bg-white/60 rounded-t-xl transition-all duration-300';
            document.getElementById('other-details-tab').innerHTML = 'Other Details';
        });

        document.getElementById('other-details-tab').addEventListener('click', function() {
            document.getElementById('other-details-content').classList.remove('hidden');
            document.getElementById('items-content').classList.add('hidden');
            
            this.className = 'px-8 py-4 font-semibold text-accent bg-white border-b-4 border-accent rounded-t-xl shadow-md relative';
            this.innerHTML = 'Other Details<div class="absolute -bottom-1 left-0 right-0 h-1 bg-accent rounded-t-lg"></div>';
            
            document.getElementById('items-tab').className = 'px-8 py-4 font-medium text-gray-500 hover:text-black hover:bg-white/60 rounded-t-xl transition-all duration-300';
            document.getElementById('items-tab').innerHTML = 'Items';
        });
    </script>
</body></html>